<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">
    <script>
        document.domain = 'qq.com';
    </script>
</head>
<body>
<a href="javascript:" id="getLoginData">getLoginData</a>
<a href="javascript:" id="gTk">gTk</a>
<a href="javascript:" id="getUserInfo">getUserInfo</a>
<a href="javascript:" id="openLogin">openLogin</a>
<a href="javascript:;" id="openLoginOneKey">openLoginOneKey</a>

<a href="javascript:" id="getLoginDataSync">getLoginData.sync</a>

<div id="result" style="word-break: break-all;overflow: hidden;">

</div>

<script>
    var node = document.createElement('script');
    node.src="http://172.27.23.1:8080/target/target-script-min.js#anonymous";
    node.type='text/javascript';
    // document.body.appendChild(node);
</script>
<script src="./login.js"></script>
<script>
['getLoginData', 'gTk', 'getUserInfo', 'openLogin', 'openLoginOneKey'].forEach(function (fn) {
    document.getElementById(fn).addEventListener('click', function () {
        console.log(fn);
        if(fn === 'openLoginOneKey') {
            txvLogin['openLogin']({
                pt_no_onekey: 1,
                low_login: 1
            }, function (err, data) {
                console.log(22222222222222, err);
                document.getElementById('result').innerText = (err && err.stack ? err.stack : err) || JSON.stringify(data);
            })
        }
        txvLogin[fn](function (err, data) {
            console.log(22222222222222, err);
            document.getElementById('result').innerText = (err && err.stack ? err.stack : err) || JSON.stringify(data);
        });
    });
});
    document.getElementById('getLoginDataSync').addEventListener('click', function () {
        document.getElementById('result').innerText = JSON.stringify(txvLogin.getLoginData.sync());
    })
</script>
</body>
</html>