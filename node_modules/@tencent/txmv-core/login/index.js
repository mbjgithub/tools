'use strict';
var ua = require("@tencent/txv.ua")();
var time33 = require("../helper/time33");

var controller;
var controllerName;
if (ua.browser.qqnews) {
	controller = require("./controller/news");;
	controllerName = 'news';

} else if (ua.browser.QQvideo) {
	controller = require("./controller/live");
	controllerName = 'live';

} else if (ua.browser.WeChat) {
	controller = require("./controller/wx");
	controllerName = 'wx';

} else {
	controller = require("./controller/qq");
	controllerName = 'qq'

}
// 对外统一接口
var exportee = {
	//getUserInfo: function(opt, cb) {
	//	controller.getUserInfo.apply(controller, arguments);
	//},
	//getLoginData: function (opt, cb) {
	//	controller.getLoginData.apply(controller, arguments);
	//},
	//openLogin: function (opt, cb) {
	//	controller.openLogin.apply(controller, arguments);
	//},
	//gTk: function () {
	//	controller.gTk.apply(controller, arguments);
	//},
	time33: time33
};

// 以下四个方法直接继承controller
['getUserInfo', 'getLoginData', 'getLoginDataSync', 'openLogin', 'gTk'].forEach(function (fn) {
	exportee[fn] = function () {
	    if (controller[fn]) {
		    return controller[fn].apply(controller, arguments);
	    }
	}
});
exportee.getLoginData.sync = controller.getLoginData.sync;

module.exports = exportee;